{"generator":"Code Snippets v2.14.0","date_created":"2021-01-16 17:13","snippets":[{"name":"Adding all CPTUI post types to the archives","scope":"global","code":"function my_cptui_add_post_types_to_archives( $query ) {\n\t\/\/ We do not want unintended consequences.\n\tif ( is_admin() || ! $query->is_main_query() ) {\n\t\treturn;    \n\t}\n\n\tif ( is_category() || is_tag() && empty( $query->query_vars['suppress_filters'] ) ) {\n\t\t$cptui_post_types = cptui_get_post_type_slugs();\n\n\t\t$query->set(\n\t\t\t'post_type',\n\t\t\tarray_merge(\n\t\t\t\tarray( 'post' ),\n\t\t\t\t$cptui_post_types\n\t\t\t)\n\t\t);\n\t}\n}\nadd_filter( 'pre_get_posts', 'my_cptui_add_post_types_to_archives' );","priority":"10"},{"name":"Permalink manager Russia slug","scope":"global","code":"\n\n\/** \n* A. Russian \n*\/\nfunction pm_ru2lat($str) {\n\t$tr = array(\n\t\t\"\u0410\"=>\"a\", \"\u0411\"=>\"b\", \"\u0412\"=>\"v\", \"\u0413\"=>\"g\", \"\u0414\"=>\"d\",\n\t\t\"\u0415\"=>\"e\", \"\u0401\"=>\"yo\", \"\u0416\"=>\"zh\", \"\u0417\"=>\"z\", \"\u0418\"=>\"i\", \n\t\t\"\u0419\"=>\"j\", \"\u041a\"=>\"k\", \"\u041b\"=>\"l\", \"\u041c\"=>\"m\", \"\u041d\"=>\"n\", \n\t\t\"\u041e\"=>\"o\", \"\u041f\"=>\"p\", \"\u0420\"=>\"r\", \"\u0421\"=>\"s\", \"\u0422\"=>\"t\", \n\t\t\"\u0423\"=>\"u\", \"\u0424\"=>\"f\", \"\u0425\"=>\"kh\", \"\u0426\"=>\"ts\", \"\u0427\"=>\"ch\", \n\t\t\"\u0428\"=>\"sh\", \"\u0429\"=>\"sch\", \"\u042a\"=>\"\", \"\u042b\"=>\"y\", \"\u042c\"=>\"\", \n\t\t\"\u042d\"=>\"e\", \"\u042e\"=>\"yu\", \"\u042f\"=>\"ya\", \"\u0430\"=>\"a\", \"\u0431\"=>\"b\", \n\t\t\"\u0432\"=>\"v\", \"\u0433\"=>\"g\", \"\u0434\"=>\"d\", \"\u0435\"=>\"e\", \"\u0451\"=>\"yo\", \n\t\t\"\u0436\"=>\"zh\", \"\u0437\"=>\"z\", \"\u0438\"=>\"i\", \"\u0439\"=>\"j\", \"\u043a\"=>\"k\", \n\t\t\"\u043b\"=>\"l\", \"\u043c\"=>\"m\", \"\u043d\"=>\"n\", \"\u043e\"=>\"o\", \"\u043f\"=>\"p\", \n\t\t\"\u0440\"=>\"r\", \"\u0441\"=>\"s\", \"\u0442\"=>\"t\", \"\u0443\"=>\"u\", \"\u0444\"=>\"f\", \n\t\t\"\u0445\"=>\"kh\", \"\u0446\"=>\"ts\", \"\u0447\"=>\"ch\", \"\u0448\"=>\"sh\", \"\u0449\"=>\"sch\", \n\t\t\"\u044a\"=>\"\", \"\u044b\"=>\"y\", \"\u044c\"=>\"\", \"\u044d\"=>\"e\", \"\u044e\"=>\"yu\", \n\t\t\"\u044f\"=>\"ya\"\n\t);\n\t\n\treturn strtr($str, $tr);\n}\nfunction pm_transliterate_russian($slug) {\n\treturn pm_ru2lat($slug);\n}\nadd_filter('permalink_manager_filter_default_post_uri', 'pm_transliterate_russian', 999);\nadd_filter('permalink_manager_filter_default_term_uri', 'pm_transliterate_russian', 999);\n","priority":"10"}]}