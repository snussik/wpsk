!function(e,t){"use strict";var a=null,i=window.JetCWSettings,o=i.compareMaxItems,s=i.compareItemsCount,n={init:function(){var a=n,i={"jet-compare.default":a.compareWidget};e.each(i,function(e,a){t.hooks.addAction("frontend/element_ready/"+e,a)}),e(document).on("click.JetCW",'.jet-compare-button__link[href="#"]',a.addToCompare).on("click.JetCW",'.jet-wishlist-button__link[href="#"]',a.addToWishlist).on("click.JetCW",".jet-compare-item-remove-button",a.removeFromCompare).on("click.JetCW",".jet-wishlist-item-remove-button",a.removeFromWishlist).on("jet-cw-load",a.addLoader).on("jet-cw-loaded",a.removeLoader),e(window).on("jet-popup/render-content/ajax/success",a.prepareJetPopup)},compareWidget:function(t){let a=t.find(".jet-compare-table__wrapper"),i=a.find(".jet-compare-difference-control");i.click(function(t){t.preventDefault();let o=e(this);o.hasClass("jet-compare-difference-control__highlight")&&(a.hasClass("jet-compare-table-highlight")?a.removeClass("jet-compare-table-highlight"):a.addClass("jet-compare-table-highlight")),o.hasClass("jet-compare-difference-control__only-different")&&(a.hasClass("jet-compare-table-only-different")?a.removeClass("jet-compare-table-only-different"):a.addClass("jet-compare-table-only-different")),i.length>1?o.hasClass("active")?(o.removeClass("active"),o.siblings(".jet-compare-difference-control").removeClass("disable")):(o.addClass("active"),o.siblings(".jet-compare-difference-control").addClass("disable")):o.hasClass("active")?o.removeClass("active"):o.addClass("active"),n.compareTableDifference(a)})},compareTableDifference:function(t){let a=t.find(".jet-compare-table-row"),i=t.hasClass("jet-compare-table-highlight"),o=t.hasClass("jet-compare-table-only-different");a.each(function(){let t=e(this),a=t.find(".jet-compare-table-cell");if(n.exceptionsDifference(t))return;let s=[];a.each(function(){let t=e(this);if(-1!==s.indexOf(t.text().trim()))return!0;s.push(t.text().trim())}),i&&s.length>1?t.addClass("highlighted"):!i&&t.hasClass("highlighted")&&t.removeClass("highlighted"),o&&s.length<=1?t.hide():!o&&t.is(":hidden")&&t.show()})},exceptionsDifference:function(t){let a=!1;return e.each(["remove-button","add-to-cart","product-title","stock-status","thumbnail","price","rating-stars"],function(e,i){t.children().find(".jet-cw-"+i).length>0&&(a=!0)}),a},prepareJetPopup:function(t,a){var o=a.data,s=a.request.data;if(null!==i.widgets&&o.isJetWooBuilder){var n=i.widgets.compare,r=i.widgets.wishlist;if(null!==s.jetCompareWishlistWidgets)var d=s.jetCompareWishlistWidgets.compare,l=s.jetCompareWishlistWidgets.wishlist;i.widgets.compare=e.extend(n,d),i.widgets.wishlist=e.extend(r,l)}},removeFromCompare:function(t){t.preventDefault();var i=e(this),o=i.data("product-id");a&&a.abort(),e(document).trigger("jet-cw-load",[i,o,"jet_update_compare_list"]),a=n.ajaxRequest(i,"jet_update_compare_list","remove",o)},removeFromWishlist:function(t){t.preventDefault();var i=e(this),o=i.data("product-id");a&&a.abort(),e(document).trigger("jet-cw-load",[i,o,"jet_update_wish_list"]),a=n.ajaxRequest(i,"jet_update_wish_list","remove",o)},addToWishlist:function(t){t.preventDefault();var i=e(this),o=i.data("product-id");a&&a.abort(),e(document).trigger("jet-cw-load",[i,o,"jet_update_wish_list"]),i.hasClass("jet-wishlist-item-remove-button")||(a=n.ajaxRequest(i,"jet_update_wish_list","add",o))},addToCompare:function(t){if(t.preventDefault(),s>=o&&!e(this).hasClass("jet-compare-item-remove-button"))n.showMessages("compare_max_items");else{var i=e(this),r=i.data("product-id");a&&a.abort(),e(document).trigger("jet-cw-load",[i,r,"jet_update_compare_list"]),i.hasClass("jet-compare-item-remove-button")||(a=n.ajaxRequest(i,"jet_update_compare_list","add",r))}},ajaxRequest:function(t,a,o,r){e.ajax({url:i.ajaxurl,type:"POST",dataType:"json",data:{action:a,pid:r,context:o,widgets_data:i.widgets}}).done(function(i){s=i.compareItemsCount,n.renderResult(i),e(document).trigger("jet-cw-loaded",[t,r,a])})},renderResult:function(t){var a=t.content;e.each(a,function(t,a){e(t).replaceWith(a),n.compareWidget(e(t).offsetParent())})},addLoader:function(t,a,i,o){"jet_update_compare_list"===o&&(e('a.jet-compare-button__link[data-product-id="'+i+'"]').addClass("jet-cw-loading"),e("div.jet-compare-table__wrapper").addClass("jet-cw-loading"),e("a.jet-compare-count-button__link").addClass("jet-cw-loading")),"jet_update_wish_list"===o&&(e('a.jet-wishlist-button__link[data-product-id="'+i+'"]').addClass("jet-cw-loading"),e("a.jet-wishlist-count-button__link").addClass("jet-cw-loading"),e("div.jet-wishlist__content").addClass("jet-cw-loading"))},removeLoader:function(t,a,i){"jet_update_compare_list"===i&&(e('a.jet-compare-button__link[data-product-id="'+a+'"]').removeClass("jet-cw-loading"),e("div.jet-compare-table__wrapper").removeClass("jet-cw-loading"),e("a.jet-compare-count-button__link").removeClass("jet-cw-loading")),"jet_update_wish_list"===i&&(e('a.jet-wishlist-button__link[data-product-id="'+a+'"]').removeClass("jet-cw-loading"),e("a.jet-wishlist-count-button__link").removeClass("jet-cw-loading"),e("div.jet-wishlist__content").removeClass("jet-cw-loading"))},showMessages:function(t){var a=e(".jet-compare-message--max-items");"compare_max_items"===t&&(a.addClass("show"),setTimeout(function(){a.removeClass("show")},4e3))}};e(window).on("elementor/frontend/init",n.init)}(jQuery,window.elementorFrontend);