!function(t,e){"use strict";var o={init:function(){var a=o,i={"jet-woo-product-gallery-grid.default":a.productGalleryGrid,"jet-woo-product-gallery-modern.default":a.productGalleryModern,"jet-woo-product-gallery-anchor-nav.default":a.productGalleryAnchorNav,"jet-woo-product-gallery-slider.default":a.productGallerySlider};t.each(i,function(t,o){e.hooks.addAction("frontend/element_ready/"+t,o)}),t(".woocommerce div.product").hasClass("product-type-variable")&&t(document).on("show_variation",function(t,e){a.showVariationImage(e)}).on("reset_image",function(t,e){a.showVariationImage(e)})},showVariationImage:function(e){var o=t(document).find(".product").find(".jet-woo-product-gallery");t.each(o,function(){var o=t(this).data("variation-images"),a=t(this).find(".jet-woo-swiper").data("swiper-settings"),i=null,r=null;a&&a.loop?(i=t(this).find('.jet-woo-product-gallery__image-item[data-swiper-slide-index = "0"]'),r=t(this).find('.jet-woo-swiper-control-thumbs__item[data-swiper-slide-index = "0"] img')):(i=t(this).find(".jet-woo-product-gallery__image-item").eq(0),r=t(this).find(".jet-woo-swiper-control-thumbs__item:eq(0) img"));var n=i.find(".wp-post-image"),l=i.find("a").eq(0);if(e&&e.image&&e.image.src&&e.image.src.length>1){var c=o[e.image_id];!function(t,e){n.wc_set_variation_attr("src",e.src),n.wc_set_variation_attr("height",e.src_h),n.wc_set_variation_attr("width",e.src_w),n.wc_set_variation_attr("srcset",e.srcset),n.wc_set_variation_attr("sizes",e.sizes),n.wc_set_variation_attr("title",t.image.title),n.wc_set_variation_attr("data-caption",t.image.caption),n.wc_set_variation_attr("alt",t.image.alt),n.wc_set_variation_attr("data-src",e.src),n.wc_set_variation_attr("data-large_image",e.full_src),n.wc_set_variation_attr("data-large_image_width",e.full_src_w),n.wc_set_variation_attr("data-large_image_height",e.full_src_h),i.wc_set_variation_attr("data-thumb",e.src),l.wc_set_variation_attr("href",t.image.full_src),r.wc_set_variation_attr("src",t.image.thumb_src),r.wc_set_variation_attr("width",t.image.thumb_src_w),r.wc_set_variation_attr("height",t.image.thumb_src_h),r.wc_set_variation_attr("srcset","")}(e,c)}else n.wc_reset_variation_attr("src"),n.wc_reset_variation_attr("width"),n.wc_reset_variation_attr("height"),n.wc_reset_variation_attr("srcset"),n.wc_reset_variation_attr("sizes"),n.wc_reset_variation_attr("title"),n.wc_reset_variation_attr("data-caption"),n.wc_reset_variation_attr("alt"),n.wc_reset_variation_attr("data-src"),n.wc_reset_variation_attr("data-large_image"),n.wc_reset_variation_attr("data-large_image_width"),n.wc_reset_variation_attr("data-large_image_height"),i.wc_reset_variation_attr("data-thumb"),l.wc_reset_variation_attr("href"),r.wc_reset_variation_attr("src"),r.wc_reset_variation_attr("width"),r.wc_reset_variation_attr("height")}),t(document).trigger("jet-woo-gallery-variation-image-change")},productGallerySlider:function(e){let a=e.find(".jet-woo-swiper"),i=a.data("swiper-settings"),r=a.data("swiper-thumb-settings"),n=a.find(".jet-woo-product-gallery__image-item").length,l=a.find(".jet-woo-product-gallery__image-item.featured").length,c=i.paginationType,s=a.find(".jet-woo-swiper-gallery-thumbs"),d={slidesPerView:1,loopedSlides:n,navigation:{nextEl:".jet-swiper-button-next",prevEl:".jet-swiper-button-prev"},on:{init:function(){o.productGallery(e)}}};if(i.showPagination)if("thumbnails"===c){var u=new Swiper(s,t.extend({},{slidesPerView:1,direction:i.direction,loop:i.loop,loopedSlides:n,slideToClickedSlide:!0,freeMode:i.loop,watchSlidesProgress:!0,watchSlidesVisibility:!0},r));d.thumbs={swiper:u}}else d.pagination={el:".swiper-pagination",clickable:!0};if(n!==l){var _=new Swiper(a,t.extend({},d,i));u&&i.loop&&(_.controller.control=u)}else e.find(".jet-swiper-nav").hide();t(document).on("jet-woo-gallery-variation-image-change",function(){i.loop?_.slideToLoop(0,300,!0):_.slideTo(0,300,!0)})},productGalleryGrid:function(t){o.productGallery(t)},productGalleryModern:function(t){o.productGallery(t)},productGalleryAnchorNav:function(e){var a,i,r,n=e.find(".jet-woo-product-gallery__image-item"),l=e.find(".jet-woo-product-gallery-anchor-nav-items"),c=e.find(".jet-woo-product-gallery-anchor-nav-controller"),s=c.find("li a"),d=[],u=!1,_=0,p=0,w=t("#wpadminbar");function g(){t(n).each(function(){var e=t(this).attr("id");d[e]=t(this).offset().top})}function m(){for(var e in d)p>=d[e]-_&&(t(c).find("a.current-item").removeClass("current-item"),t(c).find('a[data-index="'+e+'"]').addClass("current-item"))}w.length&&(_=w.outerHeight()),o.productGallery(e),g(),a=!1,i=!1,r=!1,t(window).on("scroll",function(){var e=t(window).scrollTop(),o=t(l).outerHeight(!0),n=t(c).outerHeight(!0),s=t(l).offset().top,d=t(c).offset().top,u=s+o,p=d+n;u-n-_<=e||(!0===i&&!1===r&&t(c).css({top:e-s+_+"px"}),e<d&&e<p&&(a=!1,i=!0,t(c).css({top:e-s+_+"px"})),!1===a&&e>s&&(a=!0,i=!0,r=!1),!1===a&&s>e&&(a=!1,i=!1,r=!1,t(c).removeAttr("style")))}),t(window).scroll(function(){u||(g(),p=t(document).scrollTop(),m())}),p=t(document).scrollTop(),m(),t(s).on("click",function(){m();var e=t(this).data("index"),o=d[e];if(u=!0,t(c).find("a.current-item").removeClass("current-item"),t(this).addClass("current-item"),e,t(this).parents().hasClass("quick-view-product")){let e=t(this).closest(".jet-popup__container-inner");t(e).animate({scrollTop:o-t(e).offset().top+1},"fast",function(){u=!1})}else t("html, body").animate({scrollTop:o-_+1},"fast",function(){u=!1});return!1})},productGallery:function(e){var o=e.data("id"),a=e.find(".jet-woo-product-gallery").data("gallery-settings"),i=e.find(".jet-woo-product-gallery__image:not(.image-with-placeholder)"),r=e.find(".jet-woo-product-gallery__image--with-zoom"),n=b(),l=e.find(".jet-woo-product-gallery__trigger"),c={mainClass:"jet-woo-product-gallery-"+o,captionEl:a.caption?a.caption:"",fullscreenEl:!!a.fullscreen&&a.fullscreen,zoomEl:!!a.zoom&&a.zoom,shareEl:!!a.share&&a.share,counterEl:!!a.counter&&a.counter,arrowEl:!!a.arrows&&a.arrows,closeOnScroll:!1},s=t(".jet-woo-product-gallery-pswp")[0],d=e.find(".jet-woo-product-video__popup-button"),u=e.find(".jet-woo-product-video__popup-overlay"),_=e.find(".jet-woo-product-video-iframe"),p=!!_[0]&&_[0].src,w=e.find(".jet-woo-product-video-player")[0],g=e.find(".jet-woo-product-video-mejs-player"),m=g.data("controls")||["playpause","current","progress","duration","volume","fullscreen"],f=e.find(".jet-woo-product-video__overlay"),h=f.length>0,v=a.videoAutoplay,y=a.videoFirst;function j(){var e=!1,o={magnify:a.zoomMagnify,touch:!1};r.each(function(o,a){var i=t(a).find("img"),r=i.parent().width();i.data("large_image_width")>r&&(e=!0)}),e&&("ontouchstart"in document.documentElement&&(o.on="click"),r.trigger("zoom.destroy"),r.zoom(o))}function b(){var e=[];return i.length>0&&i.each(function(o,a){var i=t(a).find("img");if(i.length){var r={src:i.attr("data-large_image"),w:i.attr("data-large_image_width"),h:i.attr("data-large_image_height"),title:i.attr("data-caption")?i.attr("data-caption"):i.attr("title")};e.push(r)}}),e}a.enableGallery&&(l.on("click.JetWooProductGallery",function(o){if(o.preventDefault(),t("body").hasClass("elementor-editor-active"))return;var a=t(o.target),i=e.find(".jet-woo-product-gallery__image-item.featured").hasClass("no-image"),r=a.parents(".jet-woo-product-gallery__image-item"),l=t(r).index();(i||y)&&(l-=1);c.index=l,new PhotoSwipe(s,PhotoSwipeUI_Default,n,c).init()}),t(document).on("jet-woo-gallery-variation-image-change",function(){n=b()})),a.enableZoom&&(j(),t(document).on("jet-woo-gallery-variation-image-change",j)),a.hasVideo&&function(){switch(a.videoIn){case"content":f[0]&&(f.on("click.JetWooProductGallery",function(t){w&&(w.play(),f.remove(),h=!1),_[0]&&o()}),v&&_[0]&&o()),w&&t(w).on("play.JetWooProductGallery",function(t){h&&(f.remove(),h=!1)}),g[0]&&e();break;case"popup":e(),d.on("click.JetWooProductGallery",function(t){!function(){d.siblings(".jet-woo-product-video__popup-content").addClass("jet-woo-product-video__popup--show"),w&&(w.play(),v||(w.pause(),w.currentTime=0));_[0]&&(_[0].src=p,v&&(_[0].src=_[0].src.replace("&autoplay=0","&autoplay=1")))}()}),u.on("click.JetWooProductGallery",function(t){!function(){d.siblings(".jet-woo-product-video__popup-content").removeClass("jet-woo-product-video__popup--show"),_[0]&&(_[0].src="");w&&(w.currentTime=0,w.pause())}()})}function e(){g.mediaelementplayer({videoVolume:"horizontal",hideVolumeOnTouchDevices:!1,enableProgressTooltip:!1,features:m,autoplay:!1}).load()}function o(){v||(_[0].src=_[0].src.replace("&autoplay=0","&autoplay=1")),f.remove(),h=!1}}(),t(".jet-woo-product-gallery__image-item").find("img").on("click",function(t){t.preventDefault()})}};t(window).on("elementor/frontend/init",o.init)}(jQuery,window.elementorFrontend);